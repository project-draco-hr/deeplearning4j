{
  long ec=1;
  for (int i=0; i < shape.length; i++) {
    int si=shape[i];
    if ((ec * si) != (((int)ec) * si))     throw new IllegalArgumentException("Too many elements");
    ec*=shape[i];
  }
  int n=(int)ec;
  if (ec != n)   throw new IllegalArgumentException("Too many elements");
  if (isVector() && shape.length != this.shape.length) {
    ComplexNDArray ndArray=new ComplexNDArray(data,shape,NDArrays.getComplexStrides(shape,'c'),offset,ordering);
    ndArray.ordering=ordering;
    return ndArray;
  }
  ComplexNDArray ndArray=new ComplexNDArray(data,shape,stride,offset,ordering);
  return ndArray;
}
