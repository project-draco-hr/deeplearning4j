{
  double[] ret=new double[length * 2];
  ComplexNDArray flattened=ravel();
  int count=0;
  for (int i=0; i < flattened.length; i++) {
    ret[count++]=flattened.get(i).realComponent();
    ret[count++]=flattened.get(i).imaginaryComponent();
  }
  return ret;
}
