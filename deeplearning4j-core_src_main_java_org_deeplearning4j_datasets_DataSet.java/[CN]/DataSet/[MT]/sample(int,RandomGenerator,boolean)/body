{
  if (numSamples >= numExamples())   return this;
 else {
    DoubleMatrix examples=new DoubleMatrix(numSamples,getFirst().columns);
    DoubleMatrix outcomes=new DoubleMatrix(numSamples,numOutcomes());
    Set<Integer> added=new HashSet<Integer>();
    for (int i=0; i < numSamples; i++) {
      int picked=rng.nextInt(numExamples());
      if (!withReplacement)       while (added.contains(picked)) {
        picked=rng.nextInt(numExamples());
      }
      examples.putRow(i,get(picked).getFirst());
      outcomes.putRow(i,get(picked).getSecond());
    }
    return new DataSet(examples,outcomes);
  }
}
