{
  checkArrangeArray(rearrange);
  int[] newShape=doPermuteSwap(shape,rearrange);
  int[] newStride=doPermuteSwap(stride,rearrange);
  if (ordering == NDArrayFactory.C)   return NDArrays.create(data,newShape,newStride,offset,ordering);
 else {
    INDArray shape=NDArrays.create(newShape,ordering);
    copyRealTo(shape);
    return shape;
  }
}
