{
  double[][] data=new double[][]{{1,2,3,4},{5,6,7,8}};
  NDArrays.factory().setOrder('f');
  double[] mmul={1,2,3,4};
  DoubleMatrix d=new DoubleMatrix(data);
  INDArray d2=NDArrays.create(data);
  assertEquals(d.rows,d2.rows());
  assertEquals(d.columns,d2.columns());
  verifyElements(d,d2);
  INDArray toMmulD2=NDArrays.create(mmul).transpose();
  DoubleMatrix toMmulD=new DoubleMatrix(mmul);
  assertEquals(d.rows,d2.rows());
  assertEquals(d.columns,d2.columns());
  assertEquals(toMmulD.rows,toMmulD2.rows());
  assertEquals(toMmulD.columns,toMmulD2.columns());
  DoubleMatrix mmulResultD=d.mmul(toMmulD);
  INDArray mmulResultD2=d2.mmul(toMmulD2);
  verifyElements(mmulResultD,mmulResultD2);
  NDArrays.factory().setOrder('c');
}
