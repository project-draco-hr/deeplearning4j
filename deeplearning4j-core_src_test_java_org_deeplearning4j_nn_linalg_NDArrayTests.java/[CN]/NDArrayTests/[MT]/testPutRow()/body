{
  DoubleMatrix d=DoubleMatrix.linspace(1,4,4).reshape(2,2);
  NDArray n=new NDArray(Arrays.copyOf(d.data,d.data.length),new int[]{2,2});
  double nFirst=3;
  double dFirst=d.get(0,1);
  assertEquals(nFirst,dFirst,1e-1);
  assertEquals(true,Arrays.equals(d.toArray(),n.toArray()));
  assertEquals(true,Arrays.equals(new int[]{2,2},n.shape()));
  DoubleMatrix newRow=DoubleMatrix.linspace(1,2,2);
  n.putRow(0,newRow);
  d.putRow(0,newRow);
  NDArray testRow=n.getRow(0);
  assertEquals(newRow.length,testRow.length);
  assertEquals(true,Arrays.equals(new int[]{2},testRow.shape()));
  NDArray nLast=new NDArray(DoubleMatrix.linspace(1,4,4).data,new int[]{2,2});
  NDArray row=nLast.getRow(1);
  NDArray row1=new NDArray(new double[]{3,4},new int[]{2});
  assertEquals(row,row1);
}
