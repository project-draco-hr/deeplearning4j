{
  DoubleMatrix d=DoubleMatrix.linspace(1,4,4).reshape(2,2);
  NDArray n=new NDArray(Arrays.copyOf(d.data,d.data.length),new int[]{2,2});
  double nFirst=3;
  double dFirst=d.get(0,1);
  assertEquals(nFirst,dFirst,1e-1);
  assertEquals(true,Arrays.equals(d.toArray(),n.toArray()));
  assertEquals(true,Arrays.equals(new int[]{2,2},n.shape()));
  DoubleMatrix newRow=DoubleMatrix.linspace(5,6,2);
  n.putRow(0,newRow);
  d.putRow(0,newRow);
  NDArray testRow=n.getRow(0);
  assertEquals(newRow.length,testRow.length);
  assertEquals(true,Shape.shapeEquals(new int[]{2},testRow.shape()));
  NDArray nLast=new NDArray(DoubleMatrix.linspace(1,4,4).data,new int[]{2,2});
  NDArray row=nLast.getRow(1);
  NDArray row1=new NDArray(new double[]{3,4},new int[]{2});
  assertEquals(row,row1);
  NDArray arr=new NDArray(new int[]{3,2});
  NDArray evenRow=new NDArray(new double[]{1,2},new int[]{2});
  arr.putRow(0,evenRow);
  NDArray firstRow=arr.getRow(0);
  assertEquals(true,Shape.shapeEquals(new int[]{2},firstRow.shape()));
  NDArray testRowEven=arr.getRow(0);
  assertEquals(evenRow,testRowEven);
  NDArray row12=new NDArray(new double[]{5,6},new int[]{2});
  arr.putRow(1,row12);
  assertEquals(true,Shape.shapeEquals(new int[]{2},arr.getRow(0).shape()));
  NDArray testRow1=arr.getRow(1);
  assertEquals(row12,testRow1);
  NDArray multiSliceTest=new NDArray(DoubleMatrix.linspace(1,16,16).data,new int[]{4,2,2});
  NDArray test=new NDArray(new double[]{7,8},new int[]{2});
  NDArray test2=new NDArray(new double[]{9,10},new int[]{2});
  assertEquals(test,multiSliceTest.slice(1).getRow(1));
  assertEquals(test2,multiSliceTest.slice(1).getRow(2));
}
