{
  float[] state=network.getState();
  int xoffset=mx;
  int yoffset=3 * my;
  int rows=ynodes;
  int cols=xnodes;
  for (int i=0; i < rows; i++) {
    for (int j=0; j < cols; j++) {
      int v=(int)(255.0 * state[i * cols + j]);
      int c=v > 255 ? 255 : v;
      g.setColor(new Color(c,c,c));
      g.fillRect(xoffset + j,yoffset + i,1,1);
    }
  }
}
