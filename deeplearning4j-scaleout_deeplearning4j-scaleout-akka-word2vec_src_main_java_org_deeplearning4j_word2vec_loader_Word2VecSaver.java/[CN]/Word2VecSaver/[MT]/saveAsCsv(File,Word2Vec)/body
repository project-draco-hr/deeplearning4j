{
  Index wordIndex=vec.getWordIndex();
  DoubleMatrix syn0=vec.getSyn0();
  DoubleMatrix toSave=MatrixUtil.normalizeByRowSums(syn0.transpose());
  ArrayList<Attribute> atts=new ArrayList<Attribute>();
  for (int i=0; i < wordIndex.size(); i++) {
    atts.add(new Attribute(wordIndex.get(i).toString()));
  }
  Instances instances=new Instances("",atts,toSave.rows);
  OutputStream os=FileOperations.createAppendingOutputStream(path);
  try {
    for (int i=0; i < toSave.rows; i++) {
      DoubleMatrix row=toSave.getRow(i);
      instances.add(new DenseInstance(1.0,row.toArray()));
    }
    os.write(instances.toString().getBytes());
    os.flush();
    os.close();
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
