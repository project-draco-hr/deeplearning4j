{
  presetTables();
  Word2Vec ret=new Word2Vec();
  if (tokenizerFactory == null)   tokenizerFactory=new DefaultTokenizerFactory();
  if (sentenceIterator != null) {
    SentenceTransformer transformer=new SentenceTransformer.Builder().iterator(sentenceIterator).tokenizerFactory(tokenizerFactory).build();
    this.iterator=new AbstractSequenceIterator.Builder<VocabWord>(transformer).build();
  }
  ret.numEpochs=this.numEpochs;
  ret.numIterations=this.iterations;
  ret.vocab=this.vocabCache;
  ret.minWordFrequency=this.minWordFrequency;
  ret.learningRate.set(this.learningRate);
  ret.minLearningRate=this.minLearningRate;
  ret.sampling=this.sampling;
  ret.negative=this.negative;
  ret.layerSize=this.layerSize;
  ret.batchSize=this.batchSize;
  ret.learningRateDecayWords=this.learningRateDecayWords;
  ret.window=this.window;
  ret.resetModel=this.resetModel;
  ret.useAdeGrad=this.useAdaGrad;
  ret.stopWords=this.stopWords;
  ret.workers=this.workers;
  ret.iterator=this.iterator;
  ret.lookupTable=this.lookupTable;
  ret.tokenizerFactory=this.tokenizerFactory;
  ret.elementsLearningAlgorithm=this.elementsLearningAlgorithm;
  ret.sequenceLearningAlgorithm=this.sequenceLearningAlgorithm;
  this.configuration.setLearningRate(this.learningRate);
  this.configuration.setLayersSize(layerSize);
  this.configuration.setHugeModelExpected(hugeModelExpected);
  this.configuration.setWindow(window);
  this.configuration.setMinWordFrequency(minWordFrequency);
  this.configuration.setIterations(iterations);
  this.configuration.setSeed(seed);
  this.configuration.setBatchSize(batchSize);
  this.configuration.setLearningRateDecayWords(learningRateDecayWords);
  this.configuration.setMinLearningRate(minLearningRate);
  this.configuration.setSampling(this.sampling);
  this.configuration.setUseAdaGrad(useAdaGrad);
  this.configuration.setNegative(negative);
  this.configuration.setEpochs(this.numEpochs);
  ret.configuration=this.configuration;
  ret.trainSequenceVectors=false;
  ret.trainElementsVectors=true;
  return ret;
}
