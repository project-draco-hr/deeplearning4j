{
  try {
    ret=(E)clazz.newInstance();
    ret.input=this.input;
    ret.nOuts=this.nOuts;
    ret.nIns=this.nIns;
    ret.labels=this.labels;
    ret.hiddenLayerSizes=this.hiddenLayerSizes;
    ret.nLayers=this.nLayers;
    ret.rng=this.rng;
    ret.shouldBackProp=this.backProp;
    ret.sigmoidLayers=new HiddenLayer[ret.nLayers];
    ret.layers=ret.createNetworkLayers(ret.nLayers);
    ret.toDecode=this.decode;
    ret.input=this.input;
    ret.momentum=this.momentum;
    ret.labels=this.labels;
    ret.fanIn=this.fanIn;
    ret.renderWeightsEveryNEpochs=this.renderWeithsEveryNEpochs;
    ret.l2=l2;
    ret.forceNumEpochs=shouldForceEpochs;
    ret.useRegularization=useRegularization;
    if (activation != null)     ret.activation=activation;
    if (dist != null)     ret.dist=dist;
    ret.weightTransforms.putAll(weightTransforms);
    return ret;
  }
 catch (  InstantiationException|IllegalAccessException e) {
    throw new RuntimeException(e);
  }
}
