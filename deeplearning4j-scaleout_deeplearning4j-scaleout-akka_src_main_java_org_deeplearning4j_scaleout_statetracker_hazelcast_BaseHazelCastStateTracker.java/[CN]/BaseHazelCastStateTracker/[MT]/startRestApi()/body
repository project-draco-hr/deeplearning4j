{
  String startApi=System.getProperty("startapi","false");
  Boolean b=Boolean.parseBoolean(startApi);
  if (!b)   return;
  try {
    if (PortTaken.portTaken(8080) || PortTaken.portTaken(8180)) {
      log.warn("Port taken for rest api");
      return;
    }
    InputStream is=new ClassPathResource("/hazelcast/dropwizard.yml").getInputStream();
    resource=new StateTrackerDropWizardResource(this);
    File tmpConfig=new File("hazelcast/dropwizard.yml");
    if (!tmpConfig.getParentFile().exists())     tmpConfig.getParentFile().mkdirs();
    BufferedOutputStream bos=new BufferedOutputStream(new FileOutputStream(tmpConfig));
    IOUtils.copy(is,bos);
    bos.flush();
    resource.run("server",tmpConfig.getAbsolutePath());
    tmpConfig.deleteOnExit();
  }
 catch (  Error e1) {
    log.warn("Unable to start server",e1);
  }
catch (  Exception e) {
    log.warn("Unable to start server",e);
  }
}
