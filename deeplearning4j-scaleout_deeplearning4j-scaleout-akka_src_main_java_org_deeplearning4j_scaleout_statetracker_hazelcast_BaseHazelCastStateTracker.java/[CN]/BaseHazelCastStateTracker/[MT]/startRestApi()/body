{
  resource=new StateTrackerDropWizardResource(this);
  try {
    InputStream is=new ClassPathResource("/hazelcast/dropwizard.yml").getInputStream();
    File tmpConfig=new File("hazelcast/dropwizard.yml");
    if (!tmpConfig.getParentFile().exists())     tmpConfig.getParentFile().mkdirs();
    BufferedOutputStream bos=new BufferedOutputStream(new FileOutputStream(tmpConfig));
    IOUtils.copy(is,bos);
    bos.flush();
    resource.run(new String[]{"server",tmpConfig.getAbsolutePath()});
    tmpConfig.deleteOnExit();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
