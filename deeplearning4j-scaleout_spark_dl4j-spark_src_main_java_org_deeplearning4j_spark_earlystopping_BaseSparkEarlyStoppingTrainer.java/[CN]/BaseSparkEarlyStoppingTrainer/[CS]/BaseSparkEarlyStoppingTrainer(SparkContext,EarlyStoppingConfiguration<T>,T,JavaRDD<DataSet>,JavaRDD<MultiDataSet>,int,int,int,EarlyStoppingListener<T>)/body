{
  if ((esConfig.getEpochTerminationConditions() == null || esConfig.getEpochTerminationConditions().size() == 0) && (esConfig.getIterationTerminationConditions() == null || esConfig.getIterationTerminationConditions().size() == 0)) {
    throw new IllegalArgumentException("Cannot conduct early stopping without a termination condition (both Iteration " + "and Epoch termination conditions are null/empty)");
  }
  if (numPartitions != 0 && numPartitions != train.partitions().size()) {
    log.info("Repartitioning training set to {}",numPartitions);
    this.train=train.repartition(numPartitions);
  }
 else {
    this.train=train;
  }
  this.sc=sc;
  this.esConfig=esConfig;
  this.net=net;
  this.trainMulti=trainMulti;
  this.examplesPerFit=examplesPerFit;
  this.totalExamples=totalExamples;
  this.numPartitions=numPartitions;
  this.listener=listener;
}
