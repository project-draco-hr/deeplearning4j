{
  DataSetIterator mnistIter=new MnistDataSetIterator(nExamples,nExamples);
  DataSet mnist=mnistIter.next();
  Layer model=getSubsamplingLayer(SubsamplingLayer.PoolingType.NONE);
  INDArray input=mnist.getFeatureMatrix().reshape(mnist.numExamples(),1,inH,inW);
  INDArray output=model.activate(input);
  assertTrue(Arrays.equals(new int[]{nExamples,1,inH,inW},output.shape()));
  assertEquals(nExamples,output.shape()[0],1e-4);
}
