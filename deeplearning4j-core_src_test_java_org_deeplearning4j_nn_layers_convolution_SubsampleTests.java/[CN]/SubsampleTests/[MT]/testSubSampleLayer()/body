{
  DataSetIterator mnistIter=new MnistDataSetIterator(100,100);
  DataSet mnist=mnistIter.next();
  Layer model=getSubsamplingLayer();
  INDArray input=mnist.getFeatureMatrix().reshape(mnist.numExamples(),1,28,28);
  input=input.get(NDArrayIndex.all(),NDArrayIndex.all(),NDArrayIndex.interval(0,20),NDArrayIndex.interval(0,20));
  INDArray output=model.activate(input);
  assertTrue(Arrays.equals(new int[]{mnist.numExamples(),1,10,21},output.shape()));
}
