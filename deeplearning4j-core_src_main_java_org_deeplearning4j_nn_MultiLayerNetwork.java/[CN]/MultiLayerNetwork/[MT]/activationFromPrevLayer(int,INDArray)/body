{
  if (curr == layers.length) {
    return getOutputLayer().labelProbabilities(input);
  }
switch (layers[curr].conf().getActivationType()) {
case HIDDEN_LAYER_ACTIVATION:
    return layers[curr].activate(input);
case NET_ACTIVATION:
  return layers[curr].activate(input);
default :
throw new IllegalStateException("Invalid activation type");
}
}
