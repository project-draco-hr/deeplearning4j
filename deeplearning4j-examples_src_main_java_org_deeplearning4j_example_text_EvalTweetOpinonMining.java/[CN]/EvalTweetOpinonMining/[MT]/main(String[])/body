{
  ClassPathResource resource=new ClassPathResource("/tweets_clean.txt");
  InputStream is=resource.getInputStream();
  LabelAwareListSentenceIterator iterator=new LabelAwareListSentenceIterator(is);
  iterator.setPreProcessor(new SentencePreProcessor(){
    @Override public String preProcess(    String sentence){
      return new InputHomogenization(sentence).transform();
    }
  }
);
  TokenizerFactory tokenizerFactory=new UimaTokenizerFactory();
  TextVectorizer vectorizor=new TfidfVectorizer(iterator,tokenizerFactory,Arrays.asList("0","1","2"),2000);
  DataSet data=vectorizor.vectorize();
  log.info("Vocab " + vectorizor.vocab());
  DataSetIterator iter=new ListDataSetIterator(data.asList(),10);
  Evaluation eval=new Evaluation();
  DBN d=SerializationUtils.readObject(new File("model-saver"));
  while (iter.hasNext()) {
    DataSet next=iter.next();
    eval.eval(next.getLabels(),d.output(next.getFeatureMatrix()));
  }
  log.info(eval.stats());
}
