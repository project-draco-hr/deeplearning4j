{
  ClassPathResource resource=new ClassPathResource("org/deeplearning4j/ehcache.xml");
  try {
    cacheManager=CacheManager.create(resource.getURL());
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  cache=cacheManager.getCache(CACHE_NAME);
  Runtime.getRuntime().addShutdownHook(new Thread(new Runnable(){
    /** 
 * When an object implementing interface <code>Runnable</code> is used
 * to create a thread, starting the thread causes the object's
 * <code>run</code> method to be called in that separately executing
 * thread.
 * <p/>
 * The general contract of the method <code>run</code> is that it may
 * take any action whatsoever.
 * @see Thread#run()
 */
    @Override public void run(){
      cache.flush();
    }
  }
));
  if (numWords.get() == 0) {
    Integer numWords=retrieve(NUM_WORDS);
    if (numWords != null)     this.numWords.set(numWords);
  }
}
