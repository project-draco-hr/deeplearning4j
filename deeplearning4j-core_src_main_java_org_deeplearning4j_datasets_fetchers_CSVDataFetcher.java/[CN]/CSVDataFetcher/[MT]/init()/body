{
  final Set<Integer> labels=new HashSet<>();
  final List<Integer> rowLabels=new ArrayList<>();
  final List<DoubleMatrix> features=new ArrayList<>();
  csv.read(is,new CSVReadProc(){
    @Override public void procRow(    int rowIndex,    String... values){
      Pair<DoubleMatrix,Integer> row=processRow(values);
      rowLabels.add(row.getSecond());
      labels.add(row.getSecond());
      features.add(row.getFirst());
    }
  }
);
  List<DataSet> l=new ArrayList<>();
  for (int i=0; i < rowLabels.size(); i++) {
    l.add(new DataSet(features.get(i),MatrixUtil.toOutcomeVector(rowLabels.get(i),rowLabels.size())));
  }
  all=DataSet.merge(l);
}
