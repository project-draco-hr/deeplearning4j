{
  Layer layer=setupActivations(2,2);
  assertArrayEquals(new int[]{1,2},layer.getParam("gamma").shape());
  assertArrayEquals(new int[]{1,2},layer.getParam("beta").shape());
  layer.setParam("gamma",Nd4j.linspace(2,3,2));
  layer.setParam("beta",Nd4j.linspace(2,3,2));
  INDArray activationsActual=layer.preOutput(cnnInput);
  INDArray activationsExpected=Nd4j.create(new double[]{3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,3.90625310e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,5.85940185e-11,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,4.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00,6.00000000e+00},new int[]{2,2,4,4});
  assertEquals(activationsExpected,activationsActual);
  assertArrayEquals(activationsExpected.shape(),activationsActual.shape());
}
