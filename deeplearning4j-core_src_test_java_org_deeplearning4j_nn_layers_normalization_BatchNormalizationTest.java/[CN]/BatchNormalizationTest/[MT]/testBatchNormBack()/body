{
  Pair<Gradient,INDArray> actualOut=layer.backpropGradient(epsilon);
  INDArray expectedEpsilon=Nd4j.create(new double[]{1.,1.,1.,1.,.5,.5,.5,.5,1.,1.,1.,1.,.5,.5,.5,.5,1.,1.,1.,1.,.5,.5,.5,.5,1.,1.,1.,1.,.5,.5,.5,.5,-1.,-1.,-1.,-1.,-.5,-.5,-.5,-.5,-1.,-1.,-1.,-1.,-.5,-.5,-.5,-.5,-1.,-1.,-1.,-1.,-.5,-.5,-.5,-.5,-1.,-1.,-1.,-1.,-.5,-.5,-.5,-.5},new int[]{2,2,4,4});
  assertEquals(expectedEpsilon,actualOut.getSecond());
  assertEquals(null,actualOut.getFirst().getGradientFor("W"));
}
