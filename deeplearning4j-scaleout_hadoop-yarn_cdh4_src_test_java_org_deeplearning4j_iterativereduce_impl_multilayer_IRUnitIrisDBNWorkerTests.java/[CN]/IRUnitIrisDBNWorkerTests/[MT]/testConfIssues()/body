{
  MultiLayerConfiguration conf=new NeuralNetConfiguration.Builder().layer(new RBM()).list(3).hiddenLayerSizes(new int[]{3,2}).build();
  String json=conf.toJson();
  Configuration c=new Configuration();
  c.set("test_json",json);
  String key=c.get("test_json");
  assertEquals(json,key);
  MultiLayerConfiguration conf2=MultiLayerConfiguration.fromJson(key);
  MultiLayerNetwork multiLayerNetwork=new MultiLayerNetwork(conf2);
  assertEquals(3,multiLayerNetwork.getnLayers());
  assertArrayEquals(new int[]{3,2},multiLayerNetwork.getLayerWiseConfigurations().getHiddenLayerSizes());
}
