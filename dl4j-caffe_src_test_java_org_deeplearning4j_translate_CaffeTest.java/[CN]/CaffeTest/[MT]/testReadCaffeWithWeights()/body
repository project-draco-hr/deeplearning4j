{
  String textFormatNetPath=getImageNetBinaryNetPath();
  String textFormatSolverPath=getImageNetTextFormatSolverPath();
  CaffeSolverNetContainer solverNet=CaffeModelToJavaClass.readCaffeWithWeights(textFormatNetPath,textFormatSolverPath,1000);
  SolverParameter solver=solverNet.getSolver();
  NetParameter net=solverNet.getNet();
  assertTrue(solver != null && net != null);
  assertEquals(net.getName(),"CaffeNet");
  assertEquals(net.getLayersCount(),31);
  assertEquals(net.getLayers(0).getName(),"data");
  assertEquals(net.getLayers(30).getName(),"loss");
  assertEquals(net.getLayers(15).getBlobs(0).getData(0),-0.008252043f,1e-3);
  assertEquals(solver.getMaxIter(),450000);
  assertEquals(solver.getMomentum(),0.9f,1e-3);
  assertEquals(solver.getBaseLr(),0.01,1e-3);
  assertEquals(solver.getRegularizationType(),"L2");
}
