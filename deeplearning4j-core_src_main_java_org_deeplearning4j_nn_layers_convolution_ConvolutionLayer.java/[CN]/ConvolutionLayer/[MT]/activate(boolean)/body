{
  if (input == null)   throw new IllegalArgumentException("No null input allowed");
  applyDropOutIfNecessary(input,training);
  col=Convolution.im2col(input,conf.getKernelSize(),conf.getStride(),conf.getPadding());
  INDArray z=preOutput(training);
  INDArray activation=Nd4j.getExecutioner().execAndReturn(Nd4j.getOpFactory().createTransform(conf.getActivationFunction(),z));
  return activation;
}
