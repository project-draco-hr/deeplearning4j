{
  Tensor W=(Tensor)r.getW().dup();
  DoubleMatrix draw=W.reshape(W.rows() * W.columns(),W.slices());
  draw.muli(255);
  FilterRenderer render=new FilterRenderer();
  BufferedImage img=render.renderFilters(draw,"tmpfile.png",draw.rows,draw.columns);
  BufferedImage resizedImage=new BufferedImage(49,49,img.getType());
  Graphics2D g=resizedImage.createGraphics();
  g.drawImage(img,0,0,49,49,null);
  g.setComposite(AlphaComposite.Src);
  g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);
  g.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);
  g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
  g.dispose();
  File write=new File("newtmpfile.png");
  if (write.exists())   write.delete();
  ImageIO.write(resizedImage,"png",write);
}
