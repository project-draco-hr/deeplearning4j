{
  DoubleMatrix draw=input.dup();
  draw.muli(255);
  DrawMnistGreyScale greyScale=new DrawMnistGreyScale(input,input.rows,input.columns);
  greyScale.readjustToData();
  greyScale.draw();
  log.info("Draw sum " + draw.sum());
  BufferedImage img=ImageLoader.toImage(input);
  File write=new File("newtmpfile-pool.png");
  Graphics2D g=img.createGraphics();
  g.drawImage(img,0,0,cols,rows,null);
  g.setComposite(AlphaComposite.Src);
  g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);
  g.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);
  g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
  g.dispose();
  ImageIO.write(img,"png",write);
}
