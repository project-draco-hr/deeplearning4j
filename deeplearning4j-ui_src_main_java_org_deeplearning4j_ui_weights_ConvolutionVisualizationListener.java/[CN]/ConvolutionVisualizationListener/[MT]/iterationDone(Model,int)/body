{
  if (iteration == 0) {
    List<INDArray> tensors=new ArrayList<>();
    int cnt=0;
    MultiLayerNetwork l=(MultiLayerNetwork)model;
    for (    Layer layer : l.getLayers()) {
      if (layer.type() == Layer.Type.CONVOLUTIONAL) {
        INDArray output=layer.activate();
        log.info("Layer output shape: " + Arrays.toString(output.shape()));
        INDArray tad=output.tensorAlongDimension(21,3,2,1);
        log.info("TAD(3,2,1) shape: " + Arrays.toString(tad.shape()));
        tensors.add(tad);
        cnt++;
      }
    }
    BufferedImage render=rasterizeConvoLayers(tensors);
    try {
      ImageIO.write(render,"png",new File("render_" + minibatchNum + ".png"));
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
    minibatchNum++;
  }
}
