{
  if (lookupTable == null) {
    if (vocabCache == null) {
      vocabCache=new AbstractCache.Builder<T>().hugeModelExpected(hugeModelExpected).scavengerRetentionDelay(this.configuration.getScavengerRetentionDelay()).scavengerThreshold(this.configuration.getScavengerActivationThreshold()).minElementFrequency(minWordFrequency).build();
    }
    if (algorithm == TrainingAlgorithm.GLOVE) {
      lookupTable=new GloveWeightLookupTable.Builder<T>().useAdaGrad(this.useAdaGrad).cache(vocabCache).negative(negative).vectorLength(layerSize).lr(learningRate).seed(seed).build();
    }
 else {
      lookupTable=new InMemoryLookupTable.Builder<T>().useAdaGrad(this.useAdaGrad).cache(vocabCache).negative(negative).vectorLength(layerSize).lr(learningRate).seed(seed).build();
    }
  }
}
