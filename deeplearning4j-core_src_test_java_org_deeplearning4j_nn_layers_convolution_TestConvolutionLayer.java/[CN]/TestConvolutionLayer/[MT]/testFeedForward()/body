{
  DataSetIterator mnist=new MnistDataSetIterator(10,10);
  NeuralNetConfiguration conf=new NeuralNetConfiguration.Builder().featureMapSize(20,20).activationFunction("relu").constrainGradientToUnitNorm(true).kernelSize(9,9).layer(new ConvolutionLayer()).nIn(1).nOut(2).build();
  Layer convolutionLayer=LayerFactories.getFactory(new ConvolutionLayer()).create(conf);
  DataSet next=mnist.next();
  INDArray input=next.getFeatureMatrix().reshape(next.numExamples(),1,28,28);
  INDArray conv=convolutionLayer.activate(input);
  assertEquals(input.slices(),conv.slices());
}
