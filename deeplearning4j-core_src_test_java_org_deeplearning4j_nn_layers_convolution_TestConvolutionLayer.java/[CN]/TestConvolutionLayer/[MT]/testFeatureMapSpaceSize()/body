{
  int inputWidth=28;
  int inputHeight=28;
  int kernelWidth=9;
  int kernelHeight=9;
  int[] stride=new int[]{2,2};
  int[] padding=new int[]{0,0};
  int nIn=1;
  int nOut=10;
  DataSetIterator mnist=new MnistDataSetIterator(10,10);
  DataSet next=mnist.next();
  Layer layer=getCNNConfig(nIn,nOut,kernelWidth,kernelHeight,stride,padding);
  INDArray input=next.getFeatureMatrix().reshape(next.numExamples(),1,inputWidth,inputHeight);
  INDArray conv=layer.activate(input);
  int featureMapWidth=(inputWidth - kernelWidth + 2 * padding[0]) / stride[0] + 1;
  assertEquals(featureMapWidth,conv.size(0));
  assertEquals(nOut,conv.size(0));
}
