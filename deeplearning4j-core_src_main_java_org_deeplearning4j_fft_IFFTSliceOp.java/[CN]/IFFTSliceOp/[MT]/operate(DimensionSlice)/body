{
  if (nd.getResult() instanceof NDArray) {
    NDArray a=(NDArray)nd.getResult();
    int n=this.n < 1 ? a.length : this.n;
    DoubleMatrix result=FFT.ifft(a,n).getReal();
    for (int i=0; i < n; i++) {
      operateOn.data[nd.getIndices()[i]]=result.get(i);
    }
  }
 else   if (nd.getResult() instanceof ComplexNDArray) {
    ComplexNDArray a=(ComplexNDArray)nd.getResult();
    int n=this.n < 1 ? a.length : this.n;
    ComplexDoubleMatrix result=FFT.ifft(a,n);
    for (int i=0; i < n; i++) {
      operateOnComplex.put(nd.getIndices()[i],result.get(i));
    }
  }
}
