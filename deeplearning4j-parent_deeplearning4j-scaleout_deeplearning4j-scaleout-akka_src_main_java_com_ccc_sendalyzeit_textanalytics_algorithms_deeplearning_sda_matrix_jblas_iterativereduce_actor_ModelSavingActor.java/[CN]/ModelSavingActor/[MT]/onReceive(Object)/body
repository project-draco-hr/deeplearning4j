{
  if (message instanceof UpdateableMatrix) {
    UpdateableMatrix u=(UpdateableMatrix)message;
    File save=new File(pathToSave);
    if (save.exists()) {
      File parent=save.getParentFile();
      save.renameTo(new File(parent,save.getName() + "-" + System.currentTimeMillis()));
    }
    BufferedOutputStream bos=new BufferedOutputStream(new FileOutputStream(save));
    u.get().write(bos);
    bos.flush();
    bos.close();
    log.info("saved model to " + pathToSave);
  }
}
