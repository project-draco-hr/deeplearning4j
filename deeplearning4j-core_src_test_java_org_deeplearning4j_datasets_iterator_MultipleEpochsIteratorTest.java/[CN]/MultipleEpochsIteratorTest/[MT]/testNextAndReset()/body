{
  int epochs=2;
  int batchSize=2;
  RecordReader recordReader=new FileRecordReader();
  recordReader.initialize(new FileSplit(new File(testPath)));
  DataSetIterator iter=new RecordReaderDataSetIterator(recordReader,batchSize);
  MultipleEpochsIterator multiIter=new MultipleEpochsIterator(epochs,iter);
  assertTrue(multiIter.hasNext());
  while (multiIter.hasNext()) {
    multiIter.next();
  }
  assertEquals(false,multiIter.hasNext());
  multiIter.reset();
  assertTrue(multiIter.hasNext());
  assertEquals(epochs,multiIter.numPasses,0.0);
}
