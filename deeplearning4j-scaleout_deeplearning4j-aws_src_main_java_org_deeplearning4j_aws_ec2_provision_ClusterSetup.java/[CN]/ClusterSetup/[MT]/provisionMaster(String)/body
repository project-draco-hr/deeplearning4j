{
  try {
    HostProvisioner uploader=new HostProvisioner(host,"ec2-user");
    uploader.addKeyFile(pathToPrivateKey);
    uploader.uploadForDeployment(libDirPath,"lib");
    if (dataSetPath != null)     uploader.uploadForDeployment(dataSetPath,"");
    String sshPath="/home/ec2-user/.ssh/";
    uploader.uploadForDeployment(pathToPrivateKey,sshPath + new File(pathToPrivateKey).getName());
    uploader.runRemoteCommand("chmod 0400 " + sshPath + "*");
    uploader.uploadAndRun(masterSetupScriptPath,"");
  }
 catch (  Exception e) {
    log.error("Error ",e);
  }
}
