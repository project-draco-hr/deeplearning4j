{
  INDArray linear=from.linearView();
  if (linear instanceof IComplexNDArray) {
    IComplexNDArray cLinear=(IComplexNDArray)linear;
    for (int i=0; i < cLinear.length(); i++) {
      IComplexNumber result=apply(cLinear,cLinear.getComplex(i),i);
      cLinear.putScalar(i,result);
    }
  }
 else {
    for (int i=0; i < linear.length(); i++) {
      float apply=apply(linear,linear.get(i),i);
      from.putScalar(i,apply);
    }
  }
}
