{
  ClassPathResource resource=new ClassPathResource("/iris.dat");
  @SuppressWarnings("unchecked") List<String> lines=IOUtils.readLines(resource.getInputStream());
  List<DataSet> list=new ArrayList<>();
  DoubleMatrix ret=DoubleMatrix.ones(to,4);
  List<String> outcomeTypes=new ArrayList<String>();
  double[][] outcomes=new double[lines.size()][3];
  for (int i=from; i < to; i++) {
    String line=lines.get(i);
    String[] split=line.split(",");
    addRow(ret,i,split);
    String outcome=split[split.length - 1];
    if (!outcomeTypes.contains(outcome))     outcomeTypes.add(outcome);
    double[] rowOutcome=new double[3];
    rowOutcome[outcomeTypes.indexOf(outcome)]=1;
    outcomes[i]=rowOutcome;
  }
  MatrixUtil.scaleByMax(ret);
  for (int i=0; i < ret.rows; i++) {
    list.add(new DataSet(ret.getRow(i),new DoubleMatrix(outcomes[i]).transpose()));
  }
  return list;
}
