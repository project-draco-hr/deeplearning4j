{
  INDArray arr=NDArrays.create(NDArrays.linspace(1,4,4).data(),new int[]{2,2});
  INDArray flattened=arr.ravel();
  assertEquals(arr.length(),flattened.length());
  assertEquals(true,Shape.shapeEquals(new int[]{1,arr.length()},flattened.shape()));
  for (int i=0; i < arr.length(); i++) {
    assertEquals(i + 1,flattened.get(i),1e-1);
  }
  assertTrue(flattened.isVector());
  INDArray n=NDArrays.create(NDArrays.ones(27).data(),new int[]{3,3,3});
  INDArray nFlattened=n.ravel();
  assertTrue(nFlattened.isVector());
  INDArray n1=NDArrays.linspace(1,24,24);
  assertEquals(n1,NDArrays.linspace(1,24,24).reshape(new int[]{4,3,2}).ravel());
}
