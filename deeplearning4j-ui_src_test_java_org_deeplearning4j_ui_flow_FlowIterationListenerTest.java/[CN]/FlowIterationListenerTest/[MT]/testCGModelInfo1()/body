{
  FlowIterationListener listener=new FlowIterationListener();
  ModelInfo info=listener.buildModelInfo(graph);
  for (  LayerInfo layerInfo : info.getLayers()) {
    log.info("Layer: " + layerInfo);
  }
  assertEquals(11,info.size());
  assertNotEquals(null,info.getLayerInfoByName("inEn"));
  assertNotEquals(null,info.getLayerInfoByName("inFr"));
  assertNotEquals(null,info.getLayerInfoByName("embeddingEn"));
  assertNotEquals(null,info.getLayerInfoByName("embeddingFr"));
  assertNotEquals(null,info.getLayerInfoByName("encoder"));
  assertNotEquals(null,info.getLayerInfoByName("embeddingFrSeq"));
  assertNotEquals(null,info.getLayerInfoByName("lastTimeStep"));
  assertNotEquals(null,info.getLayerInfoByName("duplicateTimeStep"));
  assertNotEquals(null,info.getLayerInfoByName("decoder"));
  assertNotEquals(null,info.getLayerInfoByName("output"));
}
