{
  network.getLogLayer().setLabels(labels);
  List<DoubleMatrix> activations=network.feedForward(network.getInput());
  if (network.isShouldBackProp())   network.backProp(lr,epochs);
  if (!network.isForceNumEpochs())   network.getLogLayer().trainTillConvergence(lr,epochs);
 else {
    log.info("Training for " + epochs + " epochs");
    for (int i=0; i < epochs; i++) {
      network.getLogLayer().train(activations.get(activations.size() - 2),labels,lr);
    }
  }
}
