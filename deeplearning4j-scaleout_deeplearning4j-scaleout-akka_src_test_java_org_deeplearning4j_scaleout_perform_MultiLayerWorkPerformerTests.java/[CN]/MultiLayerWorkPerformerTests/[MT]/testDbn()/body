{
  MultiLayerConfiguration conf=new NeuralNetConfiguration.Builder().momentum(9e-1f).iterations(10).learningRate(1e-1f).list().layer(0,new org.deeplearning4j.nn.conf.layers.RBM.Builder().nIn(4).nOut(3).weightInit(WeightInit.DISTRIBUTION).dist(new NormalDistribution(1e-1,1)).lossFunction(LossFunctions.LossFunction.RECONSTRUCTION_CROSSENTROPY).build()).layer(1,new org.deeplearning4j.nn.conf.layers.OutputLayer.Builder(LossFunctions.LossFunction.MCXENT).nIn(3).nOut(3).activation("softmax").weightInit(WeightInit.ZERO).build()).build();
  String json=conf.toJson();
  Configuration conf2=new Configuration();
  conf2.set(DeepLearningConfigurable.MULTI_LAYER_CONF,json);
  WorkerPerformer performer=new BaseMultiLayerNetworkWorkPerformer();
  performer.setup(conf2);
  IrisDataFetcher fetcher=new IrisDataFetcher();
  fetcher.fetch(10);
  DataSet d=fetcher.next();
  Job j=new Job(d,"1");
  assumeJobResultNotNull(performer,j);
  performer.update(j.getResult());
}
