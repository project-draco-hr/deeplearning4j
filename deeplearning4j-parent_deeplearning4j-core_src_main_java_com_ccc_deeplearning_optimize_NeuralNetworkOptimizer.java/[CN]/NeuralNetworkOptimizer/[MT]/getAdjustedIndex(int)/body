{
  int wLength=network.W.length;
  int vBiasLength=network.vBias.length;
  if (index < wLength)   return index;
 else   if (index >= wLength + vBiasLength) {
    int hIndex=index - wLength - vBiasLength;
    return hIndex;
  }
 else {
    int vIndex=index - wLength;
    return vIndex;
  }
}
