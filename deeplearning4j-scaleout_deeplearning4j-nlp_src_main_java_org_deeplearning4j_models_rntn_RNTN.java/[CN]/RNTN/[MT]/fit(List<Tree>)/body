{
  final CountDownLatch c=new CountDownLatch(trainingBatch.size());
  List<Future<Object>> futureBatch=fitAsync(trainingBatch);
  for (  Future<Object> f : futureBatch) {
    f.onComplete(new OnComplete<Object>(){
      @Override public void onComplete(      Throwable throwable,      Object e) throws Throwable {
        if (throwable != null)         log.warn("Error occurred training batch",throwable);
        c.countDown();
      }
    }
,rnTnActorSystem.dispatcher());
  }
  try {
    c.await();
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
  }
}
