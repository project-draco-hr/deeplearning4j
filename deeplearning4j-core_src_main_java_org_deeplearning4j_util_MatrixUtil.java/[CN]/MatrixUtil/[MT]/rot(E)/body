{
  if (input instanceof FourDTensor) {
    FourDTensor t=(FourDTensor)input;
    FourDTensor ret=new FourDTensor(t);
    for (int i=0; i < ret.numTensors(); i++) {
      Tensor t1=ret.getTensor(i);
      for (int j=0; j < t1.slices(); j++) {
        ret.setSlice(j,reverse(t1.getSlice(j)));
      }
    }
    return createBasedOn(ret,input);
  }
 else   if (input instanceof Tensor) {
    Tensor t=(Tensor)input;
    Tensor ret=new Tensor(t);
    for (int j=0; j < t.slices(); j++) {
      ret.setSlice(j,reverse(t.getSlice(j)));
    }
    return createBasedOn(ret,input);
  }
 else   return reverse(input);
}
