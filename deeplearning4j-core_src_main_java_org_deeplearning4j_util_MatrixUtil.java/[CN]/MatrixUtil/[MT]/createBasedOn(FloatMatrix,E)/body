{
  if (input.getClass().equals(result.getClass()))   return (E)result;
 else   if (input instanceof FloatFourDTensor) {
    FloatFourDTensor tensor=new FloatFourDTensor(result,false);
    FloatFourDTensor casted=(FloatFourDTensor)input;
    tensor.setSlices(casted.slices());
    tensor.setPerMatrixRows(casted.rows());
    tensor.setNumTensor(casted.getNumTensor());
    return (E)tensor;
  }
 else   if (input instanceof FloatTensor) {
    FloatTensor ret=new FloatTensor(result,false);
    FloatTensor casted=(FloatTensor)input;
    ret.setPerMatrixRows(ret.rows());
    ret.setSlices(casted.slices());
    return (E)ret;
  }
 else   return (E)result;
}
