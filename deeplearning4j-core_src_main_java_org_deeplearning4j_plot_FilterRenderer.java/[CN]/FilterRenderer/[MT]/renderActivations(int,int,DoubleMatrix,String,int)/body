{
  this.width=activation_data.columns;
  this.height=activation_data.rows;
  log.debug("----- renderActivations ------");
  img=new BufferedImage(width,height,BufferedImage.TYPE_BYTE_GRAY);
  this.heightOffset=heightOffset;
  this.widthOffset=widthOffset;
  WritableRaster r=img.getRaster();
  int[] equiv=new int[activation_data.length];
  double max=0.1 * scale;
  double min=-0.1 * scale;
  double range=max - min;
  for (int i=0; i < equiv.length; i++) {
    equiv[i]=(int)Math.round(activation_data.get(i) * 255);
  }
  log.debug("activations size: Cols: " + activation_data.columns + ", Rows: "+ activation_data.rows);
  r.setPixels(0,0,width,height,equiv);
  this.saveToDisk(filename);
}
