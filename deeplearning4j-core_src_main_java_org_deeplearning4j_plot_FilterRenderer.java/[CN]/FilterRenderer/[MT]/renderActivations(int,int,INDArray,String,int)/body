{
  this.width=activation_data.columns();
  this.height=activation_data.rows();
  log.debug("----- renderActivations ------");
  img=new BufferedImage(width,height,BufferedImage.TYPE_BYTE_GRAY);
  this.heightOffset=heightOffset;
  this.widthOffset=widthOffset;
  WritableRaster r=img.getRaster();
  int[] equiv=new int[activation_data.length()];
  float max=0.1f * scale;
  float min=-0.1f * scale;
  float range=max - min;
  for (int i=0; i < equiv.length; i++) {
    equiv[i]=Math.round((float)activation_data.getScalar(i).element() * 255);
  }
  log.debug("activations size: Cols: " + activation_data.columns() + ", Rows: "+ activation_data.rows());
  r.setPixels(0,0,width,height,equiv);
  this.saveToDisk(filename);
}
