{
  if (tree.isPreTerminal() || tree.isLeaf()) {
    return tree;
  }
  List<Tree> nodeList=new ArrayList<>();
  nodeList.add(tree);
  while (!nodeList.isEmpty()) {
    Tree currentNode=nodeList.remove(0);
    if (currentNode.children().size() == 1) {
      currentNode.setLabel(currentNode.label() + "(" + currentNode.firstChild().label());
      List<Tree> currChildren=new ArrayList<>(currentNode.children());
      currentNode.children().clear();
      currentNode.children().addAll(currChildren.get(0).children());
    }
 else {
      nodeList.addAll(currentNode.children());
    }
  }
  return tree;
}
