{
  if (x == null)   throw new IllegalArgumentException("No null input allowed");
  this.input=x;
  DoubleMatrix preOutput=preOutput(x);
  DoubleMatrix ret=activationFunction.apply(preOutput);
  applyDropOutIfNecessary(ret);
  return ret;
}
