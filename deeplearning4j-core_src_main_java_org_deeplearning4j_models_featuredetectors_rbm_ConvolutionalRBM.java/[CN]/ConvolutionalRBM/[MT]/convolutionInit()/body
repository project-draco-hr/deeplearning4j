{
  if (convolutionInitCalled)   return;
  W=NDArrays.create(new int[]{filterSize[0],filterSize[1],numFilters[0],numFilters[1]});
  wRows=W.rows();
  wCols=W.columns();
  wSlices=W.slices();
  visI=NDArrays.zeros(new int[]{visibleSize[0],visibleSize[1],numFilters[0],numFilters[1]});
  hidI=NDArrays.zeros(new int[]{fmSize[0],fmSize[1],numFilters[0],numFilters[1]});
  convolutionInitCalled=true;
  vBias=NDArrays.zeros(1);
  hBias=NDArrays.zeros(numFilters[0]);
  for (int i=0; i < this.W.rows(); i++)   W.putRow(i,NDArrays.create(conf.getDist().sample(W.columns())));
  wAdaGrad=new AdaGrad(W.shape());
  vBiasAdaGrad=new AdaGrad(vBias.rows(),vBias.columns());
  hBiasAdaGrad=new AdaGrad(hBias.rows(),hBias.columns());
  convolutionInitCalled=true;
  dWeights=NDArrays.create(W.shape());
}
