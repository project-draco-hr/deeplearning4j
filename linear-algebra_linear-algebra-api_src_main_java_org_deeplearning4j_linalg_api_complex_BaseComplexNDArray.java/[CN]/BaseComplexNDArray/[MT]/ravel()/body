{
  final IComplexNDArray ret=NDArrays.createComplex(length,'c');
  final AtomicInteger counter=new AtomicInteger(0);
  SliceOp op=new SliceOp(){
    @Override public void operate(    DimensionSlice nd){
      IComplexNDArray nd1=(IComplexNDArray)nd.getResult();
      for (int i=0; i < nd1.length(); i++) {
        int element=counter.getAndIncrement();
        ret.putScalar(element,nd1.getComplex(i));
      }
    }
    @Override public void operate(    INDArray nd){
      IComplexNDArray nd1=(IComplexNDArray)nd;
      for (int i=0; i < nd.length(); i++) {
        int element=counter.getAndIncrement();
        ret.putScalar(element,nd1.getComplex(i));
      }
    }
  }
;
  if (ordering == NDArrayFactory.C) {
    iterateOverAllRows(op);
  }
 else   if (ordering == NDArrayFactory.FORTRAN) {
    iterateOverAllColumns(op);
  }
  return ret;
}
