{
  if (message instanceof String) {
    String sentence=message.toString();
    if (sentence.isEmpty())     return;
    Tokenizer t=tokenizer.create(sentence);
    while (t.hasMoreTokens()) {
      String token=t.nextToken();
      if (stopWords.contains(token))       token="STOP";
      cache.incrementWordCount(token);
      if (!Util.matchesAnyStopWord(stopWords,token)) {
        if (!cache.containsWord(token) && cache.wordFrequency(token) >= minWordFrequency) {
          VocabWord word=new VocabWord(cache.wordFrequency(token),layerSize);
          int idx=cache.numWords();
          word.setIndex(idx);
          cache.putVocabWord(token,word);
          cache.addWordToIndex(idx,token);
        }
      }
    }
    lastUpdate.getAndSet(System.currentTimeMillis());
  }
 else   unhandled(message);
}
