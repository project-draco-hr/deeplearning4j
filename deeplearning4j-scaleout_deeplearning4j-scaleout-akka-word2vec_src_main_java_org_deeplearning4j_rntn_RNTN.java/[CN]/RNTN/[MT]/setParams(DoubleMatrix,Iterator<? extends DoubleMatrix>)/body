{
  int index=0;
  for (  Iterator<? extends DoubleMatrix> matrixIterator : matrices) {
    while (matrixIterator.hasNext()) {
      DoubleMatrix matrix=matrixIterator.next();
      int numElements=matrix.length;
      for (int i=0; i < numElements; ++i) {
        matrix.put(i,theta.get(index));
        ++index;
      }
    }
  }
  if (index != theta.length) {
    throw new AssertionError("Did not entirely use the theta vector");
  }
}
