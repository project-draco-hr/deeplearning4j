{
  if (numHidden == 0) {
    throw new RuntimeException("Cannot create random word vectors for an unknown numHid");
  }
  Set<String> words=new HashSet<>();
  words.add(UNKNOWN_FEATURE);
  for (  Tree tree : trainingTrees) {
    List<Tree> leaves=tree.getLeaves();
    for (    Tree leaf : leaves) {
      String word=leaf.value();
      if (lowerCasefeatureNames) {
        word=word.toLowerCase();
      }
      words.add(word);
    }
  }
  this.featureVectors=new TreeMap<>();
  for (  String word : words) {
    FloatMatrix vector=randomWordVector();
    featureVectors.put(word,vector);
  }
}
