import numpy as np
import pylab as pl
import argparse
if (__name__ == '__main__'):
    parser = argparse.ArgumentParser(description='Arguments for tsne: path to ndarray text file, number of dimensions, perplexity')
    parser.add_argument('--path', help='path to the file')
    parser.add_argument('--ndims', type=int, help='number of dimensions to perform embedding')
    parser.add_argument('--perplexity', type=float, help='perplexity for tsne')
    parser.add_argument('--initialdims', type=int, help='initial number of dimensions for tsne')
    parser.add_argument('--labels', help='path to line delimited files')
    args = parser.parse_args()
    lines = []
    with open(args.labels) as f:
        lines = f.readlines()
    Y = np.loadtxt(open(args.path, 'rb'), delimiter=',')
    x = Y[:, 0]
    y = Y[:, 1]
    (fig, ax) = pl.subplots()
    ax.scatter(x, y)
    labels = open(args.labels).readlines()
    for (i, txt) in enumerate(labels):
        ax.annotate(txt, (x[i], y[i]))
    pl.show()
