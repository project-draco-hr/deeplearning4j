{
  Map<CaffeNode,CopyOnWriteArrayList<CaffeNode>> adjacencyMap=graph.getAdjacencyListMap();
  for (  CaffeNode node : adjacencyMap.keySet()) {
    if (node.getBottomNodeList() == null || node.getBottomNodeList().size() == 0) {
      graph.addStartNode(node);
    }
    if (adjacencyMap.get(node).size() == 0) {
      graph.addEndNode(node);
    }
  }
}
