{
  DataSetIterator iter=new LFWDataSetIterator(80,13233,28,28);
  Conf c=new Conf();
  c.setFinetuneEpochs(10000);
  c.setFinetuneLearningRate(1e-2f);
  c.setLayerSizes(new int[]{700,500,250});
  c.setnIn(28 * 28);
  c.setMomentum(0.5f);
  c.setDropOut(1e-1f);
  c.setUseAdaGrad(true);
  c.setnOut(10);
  c.setSplit(100);
  c.setNumPasses(1);
  c.setScale(true);
  c.setNormalizeZeroMeanAndUnitVariance(false);
  c.setMultiLayerClazz(DBN.class);
  c.setUseRegularization(true);
  c.setL2(2e-4f);
  c.setHiddenUnit(RBM.HiddenUnit.RECTIFIED);
  c.setVisibleUnit(RBM.VisibleUnit.GAUSSIAN);
  c.setDeepLearningParams(new Object[]{1,1e-2,10000});
  StateTracker<UpdateableImpl> stateTracker=new HazelCastStateTracker();
  if (args.length < 1) {
    ActorNetworkRunner runner=new ActorNetworkRunner("master",iter);
    runner.setStateTracker(stateTracker);
    runner.setup(c);
    runner.train();
  }
 else {
    BaseMultiLayerNetwork network=SerializationUtils.readObject(new File(args[0]));
    ActorNetworkRunner runner=new ActorNetworkRunner("master",iter,network);
    runner.setStateTracker(stateTracker);
    runner.setup(c);
    runner.train();
  }
}
