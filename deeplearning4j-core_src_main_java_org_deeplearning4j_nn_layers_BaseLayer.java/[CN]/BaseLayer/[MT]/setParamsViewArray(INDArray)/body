{
  if (params.length() != numParams())   throw new IllegalArgumentException("Invalid input: expect params of length " + numParams() + ", got params of length "+ params.length());
  this.paramsFlattened=params;
}
