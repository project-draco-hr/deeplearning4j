{
  if (numElements < 1)   throw new IllegalArgumentException("No elements specified");
  if (dimension == 0 && transform.shape().length <= 1)   return new ComplexNDArray(transform);
  ComplexNDArray result=new ComplexNDArray(transform);
  if (dimension == 0 && result.shape().length <= 1)   return result;
  int desiredElementsAlongDimension=result.size(dimension);
  if (numElements > desiredElementsAlongDimension) {
    int[] targetShape=ArrayUtil.copy(result.shape());
    targetShape[dimension]=numElements;
    result=ComplexNDArrayUtil.padWithZeros(result,targetShape);
  }
 else   if (numElements < desiredElementsAlongDimension) {
    int[] targetShape;
    if (result.isVector() && dimension == 0 || dimension == 1) {
      targetShape=new int[]{numElements};
    }
 else {
      targetShape=ArrayUtil.copy(result.shape());
      targetShape[dimension]=numElements;
    }
    result=ComplexNDArrayUtil.truncate(result,targetShape);
  }
  result.iterateOverDimension(dimension,new FFTSliceOp(result,numElements));
  return result;
}
