{
  if (progressReport == null) {
    progressReport=new ProgressReport();
    progressReport.setWorkerId(workerId);
  }
  Map<CharSequence,CharSequence> report=new HashMap<CharSequence,CharSequence>();
synchronized (progressCounters) {
    for (    Map.Entry<String,Integer> entry : progressCounters.entrySet()) {
      report.put(entry.getKey(),String.valueOf(entry.getValue()));
    }
  }
  progressReport.setReport(report);
  if (LOG.isDebugEnabled()) {
    StringBuffer sb=new StringBuffer();
    sb.append("Created a progress report");
    sb.append(", workerId=").append(Utils.getWorkerId(progressReport.getWorkerId()));
    for (    Map.Entry<CharSequence,CharSequence> entry : progressReport.getReport().entrySet()) {
      sb.append(", ").append(entry.getKey()).append("=").append(entry.getValue());
    }
    LOG.debug(sb.toString());
  }
  return progressReport;
}
