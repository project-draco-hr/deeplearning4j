{
  String pathToFile="test_writing_word_vector.txt";
  Word2Vec vec=WordVectorSerializer.loadGoogleModel(binaryFile,true);
  InMemoryLookupTable lookupTable=(InMemoryLookupTable)vec.lookupTable();
  InMemoryLookupCache lookupCache=(InMemoryLookupCache)vec.vocab();
  WordVectorSerializer.writeWordVectors(lookupTable,lookupCache,pathToFile);
  WordVectors wordVectors=WordVectorSerializer.loadTxtVectors(new File(pathToFile));
  double[] wordVector1=wordVectors.getWordVector("<s>");
  double[] wordVector2=wordVectors.getWordVector("Adam");
  double[] wordVector3=wordVectors.getWordVector("awesome");
  assertTrue(wordVector1.length == 100);
  assertEquals(Doubles.asList(wordVector1).get(0),0.004003,1e-3);
  assertTrue(wordVector2.length == 100);
  assertEquals(Doubles.asList(wordVector2).get(0),0.002280,1e-3);
  assertTrue(wordVector3.length == 100);
  assertEquals(Doubles.asList(wordVector3).get(0),-0.004731,1e-3);
}
