{
  double vector;
  int words, size;
  String url="";
  String path="GoogleNews-vectors-negative300.bin.gz";
  File modelFile=new File(path);
  if (!modelFile.exists()) {
    FileUtils.copyURLToFile(new URL(url),modelFile);
  }
  try (BufferedInputStream bis=new BufferedInputStream(GzipUtils.isCompressedFilename(modelFile.getName()) ? new GZIPInputStream(new FileInputStream(modelFile)) : new FileInputStream(modelFile));DataInputStream dis=new DataInputStream(bis)){
    words=Integer.parseInt(WordVectorSerializer.readString(dis));
    size=Integer.parseInt(WordVectorSerializer.readString(dis));
    int wordsLoaded=0;
    String word;
    for (int i=0; i < words; i++) {
      word=WordVectorSerializer.readString(dis);
      if (word.isEmpty()) {
        continue;
      }
      for (int j=0; j < size; j++) {
        vector=readFloat(dis);
        System.out.println(vector);
      }
      wordsLoaded++;
      System.out.println("Loaded " + word + " and num words "+ wordsLoaded+ " out of "+ words);
    }
    assertEquals(3000000,wordsLoaded);
  }
 }
