{
  Class<? extends Layer> clazz=layer.getClass();
  if (clazz.equals(ConvolutionDownSampleLayer.class))   return new ConvolutionLayerFactory(clazz);
 else   if (clazz.equals(LSTM.class))   return new LSTMLayerFactory(LSTM.class);
 else   if (clazz.equals(GravesLSTM.class))   return new GravesLSTMLayerFactory(GravesLSTM.class);
 else   if (clazz.equals(GRU.class))   return new GRULayerFactory(GRU.class);
 else   if (RecursiveAutoEncoder.class.isAssignableFrom(clazz))   return new RecursiveAutoEncoderLayerFactory(RecursiveAutoEncoder.class);
 else   if (BasePretrainNetwork.class.isAssignableFrom(clazz))   return new PretrainLayerFactory(clazz);
 else   if (ConvolutionLayer.class.isAssignableFrom(clazz))   return new ConvolutionLayerFactory(clazz);
 else   if (SubsamplingLayer.class.isAssignableFrom(clazz))   return new SubsampleLayerFactory(clazz);
  return new DefaultLayerFactory(clazz);
}
