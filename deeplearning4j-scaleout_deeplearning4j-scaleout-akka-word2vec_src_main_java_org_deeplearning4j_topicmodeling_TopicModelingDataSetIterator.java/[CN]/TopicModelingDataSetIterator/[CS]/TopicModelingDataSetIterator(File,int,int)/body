{
  File[] subs=rootDir.listFiles();
  if (subs == null)   throw new IllegalArgumentException("Root directory has no files");
  labels=new ArrayList<String>(subs.length);
  for (  File f : subs) {
    labels.add(f.getName());
  }
  this.vocabCreator=new VocabCreator(rootDir);
  vocab=vocabCreator.createVocab(numWords);
  Iterator<File> iter=FileUtils.iterateFiles(rootDir,null,true);
  List<File> list=new ArrayList<File>();
  while (iter.hasNext())   list.add(iter.next());
  Collections.shuffle(list);
  files=new SerializableFileIter(list);
}
