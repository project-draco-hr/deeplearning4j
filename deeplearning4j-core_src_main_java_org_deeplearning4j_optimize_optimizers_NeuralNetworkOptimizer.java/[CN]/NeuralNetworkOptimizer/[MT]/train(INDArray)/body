{
  if (opt == null) {
    createOptimizationAlgorithm();
  }
  network.setInput(x);
  int iterations=network.conf().getNumIterations();
  opt.setMaxIterations(iterations);
  opt.optimize(iterations);
  network.backProp();
}
