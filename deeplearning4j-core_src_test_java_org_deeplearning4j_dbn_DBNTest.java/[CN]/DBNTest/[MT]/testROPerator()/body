{
  MnistDataFetcher fetcher=new MnistDataFetcher(true);
  fetcher.fetch(100);
  DataSet d=fetcher.next();
  DBN dbn=new DBN.Builder().withActivation(Activations.sigmoid()).hiddenLayerSizes(new int[]{500,250,100}).withMomentum(0.5).normalizeByInputRows(true).numberOfInputs(784).useAdaGrad(true).numberOfOutPuts(2).build();
  dbn.setInput(d.getFeatureMatrix());
  INDArray params=dbn.params();
  List<INDArray> activations=dbn.feedForwardR(params);
  List<INDArray> activationsNorm=dbn.feedForward();
  assertEquals(activations.size(),activationsNorm.size());
}
