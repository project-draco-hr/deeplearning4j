{
  JCublasNDArray create=(JCublasNDArray)NDArrays.create(new float[]{1,2,3,4});
  create.alloc();
  create.getData();
  create.free();
  assertTrue(Arrays.equals(new float[]{1,2,3,4},create.data()));
  JCublasNDArray createMatrix=(JCublasNDArray)NDArrays.create(new float[]{1,2,3,4},new int[]{2,2});
  create.alloc();
  createMatrix.data()[0]=5;
  float[] ret=new float[4];
  createMatrix.getData(ret);
  createMatrix.free();
  assertTrue(Arrays.equals(new float[]{5,2,3,4},ret));
}
