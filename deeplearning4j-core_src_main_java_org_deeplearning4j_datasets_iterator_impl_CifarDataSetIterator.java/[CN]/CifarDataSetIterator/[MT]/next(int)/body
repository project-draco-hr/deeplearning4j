{
  if (useCurrent) {
    useCurrent=false;
    return last;
  }
  DataSet ret=CifarLoader.convertDataSet(num);
  exampleCount+=num;
  batchNum++;
  if (ret.getFeatureMatrix() == null || (maxNumBatches > -1 && batchNum >= maxNumBatches)) {
    overshot=true;
    return last;
  }
  ret.shuffle();
  if (preProcessor != null)   preProcessor.preProcess(ret);
  last=ret;
  if (loader.getLabels() != null)   ret.setLabelNames(loader.getLabels());
  return ret;
}
