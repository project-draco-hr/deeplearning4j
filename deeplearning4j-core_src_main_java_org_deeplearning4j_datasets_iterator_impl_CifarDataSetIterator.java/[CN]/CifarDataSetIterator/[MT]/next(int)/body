{
  if (useCurrent) {
    useCurrent=false;
    return last;
  }
  DataSet result=null;
  if (preProcessCifar) {
    if (batchNum == 0) {
      for (int i=1; i <= CifarLoader.TRAINFILENAMES.length; i++) {
        result=loader.next(batchSize,i,batchNum);
      }
    }
  }
 else   result=loader.next(batchSize);
  exampleCount+=batchSize;
  batchNum++;
  if (result == null || (maxNumBatches > -1 && batchNum >= maxNumBatches)) {
    overshot=true;
    return last;
  }
  if (preProcessor != null)   preProcessor.preProcess(result);
  last=result;
  if (loader.getLabels() != null)   result.setLabelNames(loader.getLabels());
  return result;
}
