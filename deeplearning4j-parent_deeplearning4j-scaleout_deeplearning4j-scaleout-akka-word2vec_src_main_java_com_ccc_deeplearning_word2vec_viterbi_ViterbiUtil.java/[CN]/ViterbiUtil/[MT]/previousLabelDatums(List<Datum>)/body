{
  List<Datum> newData=new ArrayList<Datum>();
  List<String> words=new ArrayList<String>();
  List<String> labels=new ArrayList<String>();
  Map<String,Integer> labelIndex=new HashMap<String,Integer>();
  for (  Datum datum : data) {
    words.add(datum.word);
    if (labelIndex.containsKey(datum.label) == false) {
      labelIndex.put(datum.label,labels.size());
      labels.add(datum.label);
    }
  }
  for (int i=0; i < data.size(); i++) {
    Datum datum=data.get(i);
    if (i == 0) {
      String previousLabel="O";
      datum.features=datum.features;
      Datum newDatum=new Datum(datum.word,datum.label);
      newDatum.features=datum.features;
      newDatum.previousLabel=previousLabel;
      newData.add(newDatum);
    }
 else {
      for (      String previousLabel : labels) {
        datum.features=data.get(i - 1).features;
        Datum newDatum=new Datum(datum.word,datum.label);
        newDatum.features=data.get(i - 1).features;
        newDatum.previousLabel=previousLabel;
        newData.add(newDatum);
      }
    }
  }
  return newData;
}
