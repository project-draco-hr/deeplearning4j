{
  this.iter=iter;
  this.maxReset=maxReset;
  mediator.tell(new DistributedPubSubMediator.Subscribe(MasterActor.SHUTDOWN,getSelf()),getSelf());
  mediator.tell(new DistributedPubSubMediator.Subscribe(FINETUNE,getSelf()),getSelf());
  mediator.tell(new DistributedPubSubMediator.Publish(DoneReaper.REAPER,getSelf()),mediator);
  iterChecker=Executors.newScheduledThreadPool(1);
  iterChecker.scheduleAtFixedRate(new Runnable(){
    @Override public void run(){
      if (BatchActor.this.maxReset == numTimesReset) {
        log.info("Shutting down via batch actor and max resets");
        try {
          iterChecker.awaitTermination(60,TimeUnit.SECONDS);
        }
 catch (        InterruptedException e) {
          Thread.currentThread().interrupt();
        }
      }
    }
  }
,10,60,TimeUnit.SECONDS);
}
