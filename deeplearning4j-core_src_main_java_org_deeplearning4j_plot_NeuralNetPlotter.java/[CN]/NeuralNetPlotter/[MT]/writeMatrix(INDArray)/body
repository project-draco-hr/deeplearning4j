{
  try {
    String filePath=System.getProperty("java.io.tmpdir") + File.separator + UUID.randomUUID().toString();
    File write=new File(filePath);
    BufferedOutputStream bos=new BufferedOutputStream(new FileOutputStream(write,true));
    write.deleteOnExit();
    for (int i=0; i < matrix.rows(); i++) {
      INDArray row=matrix.getRow(i);
      StringBuilder sb=new StringBuilder();
      for (int j=0; j < row.length(); j++) {
        sb.append(String.format("%.10f",row.getDouble(j)));
        if (j < row.length() - 1)         sb.append(",");
      }
      sb.append("\n");
      String line=sb.toString();
      bos.write(line.getBytes());
      bos.flush();
    }
    bos.close();
    return filePath;
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
