{
  Set<String> vars=new TreeSet<>(gradient.gradientForVariable().keySet());
  List<String> titles=new ArrayList<>(vars);
  for (  String s : vars) {
    titles.add(s + "-gradient");
  }
  INDArray[] variablesAndGradients=new INDArray[network.conf().variables().size() * 2];
  int count=0;
  for (int i=0; i < network.conf().variables().size(); i++) {
    String variable=network.conf().variables().get(i);
    variablesAndGradients[count++]=network.getParam(variable);
  }
  for (int i=0; i < network.conf().variables().size(); i++) {
    String variable=network.conf().variables().get(i);
    variablesAndGradients[count++]=gradient.getGradientFor(variable);
  }
  graphPlotType("histogram",titles,variablesAndGradients,localPath + "weightHistograms.png");
}
