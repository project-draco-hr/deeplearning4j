{
  plotMatrices(new String[]{"W","hbias","vbias","w-gradient","hbias-gradient","vbias-gradient"},new DoubleMatrix[]{network.getW(),network.gethBias(),network.getvBias(),gradient.getwGradient(),gradient.gethBiasGradient(),gradient.getvBiasGradient()});
  plotActivations(network);
  FilterRenderer render=new FilterRenderer();
  try {
    if (network.getW() instanceof Tensor) {
      Tensor w=(Tensor)network.getW();
      render.renderFilters(network.getW(),"currimg.png",(int)Math.sqrt(network.getW().rows / w.slices()),(int)Math.sqrt(network.getW().rows / w.slices()));
    }
 else     render.renderFilters(network.getW(),"currimg.png",(int)Math.sqrt(network.getW().rows),(int)Math.sqrt(network.getW().rows));
  }
 catch (  Exception e) {
    log.error("Unable to plot filter, continuing...",e);
  }
}
