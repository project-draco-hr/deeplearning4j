{
  Layer layer=getContainedConfig();
  INDArray col=getContainedCol();
  INDArray expectedOutput=Nd4j.create(new double[]{4.,4.,4.,4.,8.,8.,8.,8.,4.,4.,4.,4.,8.,8.,8.,8.,4.,4.,4.,4.,8.,8.,8.,8.,4.,4.,4.,4.,8.,8.,8.,8},new int[]{1,2,4,4});
  org.deeplearning4j.nn.layers.convolution.ConvolutionLayer layer2=(org.deeplearning4j.nn.layers.convolution.ConvolutionLayer)layer;
  layer2.setCol(col);
  INDArray activation=layer2.preOutput(true);
  assertArrayEquals(expectedOutput.shape(),activation.shape());
  assertEquals(expectedOutput,activation);
}
