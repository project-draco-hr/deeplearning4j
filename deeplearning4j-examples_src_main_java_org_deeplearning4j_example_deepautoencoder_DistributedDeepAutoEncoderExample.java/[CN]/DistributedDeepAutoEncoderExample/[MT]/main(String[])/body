{
  DBN d=SerializationUtils.readObject(new File(args[0]));
  DataSetIterator iter=new MnistDataSetIterator(80,60000);
  Conf c=new Conf();
  c.setFinetuneEpochs(10000);
  c.setFinetuneLearningRate(1e-2);
  c.setPretrainLearningRate(1e-1);
  c.setNormalizeCodeLayer(false);
  c.setRoundCodeLayer(true);
  c.setSplit(100);
  c.setSparsity(1e-1);
  c.setMomentum(9e-1);
  c.setMultiLayerClazz(DBN.class);
  c.setUseRegularization(true);
  c.setL2(2e-2);
  c.setOutputLayerLossFunction(OutputLayer.LossFunction.RMSE_XENT);
  c.setOutputActivationFunction(Activations.sigmoid());
  c.setVisibleUnit(RBM.VisibleUnit.BINARY);
  c.setHiddenUnit(RBM.HiddenUnit.BINARY);
  DeepAutoEncoderHazelCastStateTracker tracker=new DeepAutoEncoderHazelCastStateTracker();
  tracker.moveToFinetune();
  DeepAutoEncoderDistributedTrainer runner=new DeepAutoEncoderDistributedTrainer("master",iter,d);
  runner.setStateTracker(tracker);
  runner.setModelSaver(new DefaultModelSaver(new File("mnist-example-deepautoencoder.ser")));
  runner.setup(c);
  runner.train();
}
