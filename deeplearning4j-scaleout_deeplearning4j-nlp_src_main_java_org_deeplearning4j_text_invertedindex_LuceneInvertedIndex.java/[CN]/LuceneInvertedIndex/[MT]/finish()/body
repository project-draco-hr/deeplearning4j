{
  if (cache) {
    indexManager.execute(new Runnable(){
      public void run(){
        try {
          if (dir == null)           dir=FSDirectory.open(new File(INDEX_PATH));
          if (writer == null)           if (!indexBeingCreated.get())           writer=new IndexWriter(dir,iwc);
 else           waitOnWriter();
          writer.forceMerge(1);
          writer.commit();
          initReader();
          numDocs=reader.numDocs();
        }
 catch (        IOException e) {
          e.printStackTrace();
        }
      }
    }
);
  }
 else {
    try {
      writer.forceMerge(1);
      writer.commit();
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
    initReader();
    numDocs=reader.numDocs();
  }
}
