{
  if (vocabCache == null)   vocabCache=new InMemoryLookupCache();
  if (textVectorizer == null) {
    textVectorizer=new TfidfVectorizer.Builder().tokenize(tokenizerFactory).cache(vocabCache).iterate(iter).minWords(1).stopWords(new ArrayList<String>()).build();
    textVectorizer.fit();
  }
  if (coOccurrences == null) {
    coOccurrences=new CoOccurrences.Builder().cache(vocabCache).iterate(iter).symmetric(false).tokenizer(tokenizerFactory).windowSize(15).build();
    coOccurrences.fit();
    assertEquals(16,coOccurrences.getCoOCurreneCounts().totalSize());
    log.info(coOccurrences.getCoOCurreneCounts().toString());
  }
}
