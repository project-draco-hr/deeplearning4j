{
  List<VocabWord> wordsForDoc=docToWord.get(doc);
  if (wordsForDoc == null) {
    wordsForDoc=words;
    docToWord.put(doc,wordsForDoc);
  }
  for (  VocabWord word : words) {
    List<Integer> docList=wordToDocs.get(word);
    if (docList != null)     docList.add(doc);
 else {
      docList=new CopyOnWriteArrayList<>();
      docList.add(doc);
      wordToDocs.put(word,docList);
    }
  }
  totalWords.set(totalWords() + words.size());
}
