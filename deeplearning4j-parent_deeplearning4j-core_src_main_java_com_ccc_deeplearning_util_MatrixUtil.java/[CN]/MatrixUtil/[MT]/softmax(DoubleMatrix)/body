{
  double max=input.max();
  double sum=0.0;
  for (int i=0; i < input.length; i++) {
    input.put(i,Math.exp(input.get(i) - max));
  }
  sum+=input.sum();
  for (int i=0; i < input.length; i++) {
    input.put(i,input.get(i) / sum);
  }
  return input;
}
