{
  CnnToFeedForwardPreProcessor convProcessor=new CnnToFeedForwardPreProcessor(rows,cols,1);
  convProcessor.preProcess(in4D,null);
  INDArray check2to2=convProcessor.preProcess(in2D,null);
  int val2to2=check2to2.shape().length;
  assertTrue(val2to2 == 2);
  assertEquals(Nd4j.create(1,784),check2to2);
  INDArray check3to2=convProcessor.preProcess(in3D,null);
  int val3to2=check3to2.shape().length;
  assertTrue(val3to2 == 2);
  assertEquals(Nd4j.create(20,5488),check3to2);
  INDArray check4to2=convProcessor.preProcess(in4D,null);
  int val4to2=check4to2.shape().length;
  assertTrue(val4to2 == 2);
  assertEquals(Nd4j.create(20,784),check4to2);
}
