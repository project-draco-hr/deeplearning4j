{
  Queue<Pair<DoubleMatrix,DoubleMatrix>> q=new ArrayDeque<>(list);
  list.clear();
  log.info("Splitting list in to rows...");
  while (!q.isEmpty()) {
    Pair<DoubleMatrix,DoubleMatrix> pair=q.poll();
    List<DoubleMatrix> inputRows=pair.getFirst().rowsAsList();
    List<DoubleMatrix> labelRows=pair.getSecond().rowsAsList();
    for (int i=0; i < inputRows.size(); i++) {
      list.add(new Pair<DoubleMatrix,DoubleMatrix>(inputRows.get(i),labelRows.get(i)));
    }
  }
}
