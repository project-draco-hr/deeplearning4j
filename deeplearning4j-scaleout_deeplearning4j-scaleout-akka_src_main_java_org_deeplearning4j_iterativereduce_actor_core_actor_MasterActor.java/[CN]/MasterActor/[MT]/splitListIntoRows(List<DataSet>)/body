{
  Queue<DataSet> q=new ArrayDeque<>(list);
  list.clear();
  log.info("Splitting list in to rows...");
  while (!q.isEmpty()) {
    Pair<DoubleMatrix,DoubleMatrix> pair=q.poll();
    List<DoubleMatrix> inputRows=pair.getFirst().rowsAsList();
    List<DoubleMatrix> labelRows=pair.getSecond().rowsAsList();
    if (inputRows.isEmpty())     throw new IllegalArgumentException("No input rows found");
    if (inputRows.size() != labelRows.size())     throw new IllegalArgumentException("Label rows not equal to input rows");
    for (int i=0; i < inputRows.size(); i++) {
      list.add(new DataSet(inputRows.get(i),labelRows.get(i)));
    }
  }
}
