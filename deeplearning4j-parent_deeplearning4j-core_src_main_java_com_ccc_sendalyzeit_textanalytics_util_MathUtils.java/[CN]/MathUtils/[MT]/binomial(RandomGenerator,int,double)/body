{
  if (p < 0 || p > 1)   return 0;
  int c=0;
  double r;
  for (int i=0; i < n; i++) {
    r=rng.nextDouble();
    if (r < p)     c++;
  }
  return c;
}
