{
  if (isVector()) {
    double s=0.0;
    for (int i=0; i < length; i++) {
      s+=(double)getScalar(i).element();
      put(i,s);
    }
  }
 else {
    final AtomicInteger i=new AtomicInteger(0);
    iterateOverDimension(dimension,new SliceOp(){
      @Override public void operate(      DimensionSlice nd){
        INDArray arr2=(INDArray)nd.getResult();
        arr2.cumsum(0);
        i.incrementAndGet();
      }
      /** 
 * Operates on an ndarray slice
 * @param nd the result to operate on
 */
      @Override public void operate(      INDArray nd){
        INDArray arr2=nd;
        arr2.cumsum(0);
        i.incrementAndGet();
      }
    }
,false);
  }
  return this;
}
