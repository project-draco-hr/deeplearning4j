{
  ClassPathResource resource=new ClassPathResource("/reuters/5250");
  File file=resource.getFile().getParentFile();
  SentenceIterator iter=new FileSentenceIterator(new SentencePreProcessor(){
    @Override public String preProcess(    String sentence){
      return new InputHomogenization(sentence).transform();
    }
  }
,file);
  TokenizerFactory t=new UimaTokenizerFactory();
  InMemoryLookupCache cache=new InMemoryLookupCache(50);
  Word2Vec vec=new Word2Vec.Builder().minWordFrequency(1).vocabCache(cache).windowSize(5).iterate(iter).tokenizerFactory(t).build();
  vec.buildVocab();
  List<VocabWord> vocabWords=new ArrayList<>(cache.vocabWords());
  vec.iterate(vocabWords.get(0));
  assertTrue(vec.getCache().numWords() > 0);
  assertEquals(4,vec.getCache().wordFrequency("pearson"));
}
