{
  if (nd.getResult() instanceof NDArray) {
    NDArray a=(NDArray)nd.getResult();
    int n=this.n < 1 ? a.length : this.n;
    NDArray result=FFT.fft(a,n).getReal();
    for (int i=0; i < result.length; i++)     a.put(i,result.get(i));
  }
 else   if (nd.getResult() instanceof ComplexNDArray) {
    ComplexNDArray a=(ComplexNDArray)nd.getResult();
    ComplexDoubleMatrix result=FFT.fft(a);
    for (int i=0; i < result.length; i++) {
      a.put(i,result.get(i));
    }
  }
}
