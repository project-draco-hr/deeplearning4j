{
  INDArray in2D=Nd4j.create(1,784);
  INDArray in3D=Nd4j.create(1,784,7);
  INDArray in4D=Nd4j.create(20,1,28,28);
  ConvolutionInputPreProcessor convProcessor=new ConvolutionInputPreProcessor(rows,cols,1);
  INDArray check2to2=convProcessor.backprop(new Pair<>((Gradient)null,in2D)).getSecond();
  int val2to2=check2to2.shape().length;
  assertTrue(val2to2 == 2);
  INDArray check3to2=convProcessor.backprop(new Pair<>((Gradient)null,in3D)).getSecond();
  int val3to2=check3to2.shape().length;
  assertTrue(val3to2 == 2);
  INDArray check4to2=convProcessor.backprop(new Pair<>((Gradient)null,in4D)).getSecond();
  int val4to2=check4to2.shape().length;
  assertTrue(val4to2 == 2);
}
